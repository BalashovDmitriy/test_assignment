# Тестовое задание

## Установка:
- Склонировать репозиторий и перейти в корень проекта
- Установить переменные окружения в .env.sample и переименовать его в .env

### Docker
- Сбилдить и запустить в корне проекта командами ```docker-compose build``` ```docker-compose up```

### Python
- Убедитесь, что у вас установлен python 3.11 или более новая версия
- Убедитесь, что у вас установлен PostgreSQL и запущен локальный сервер базы данных
- Создать и активировать виртуальное окружение```python -m venv venv```
- Активировать ```source venv/bin/activate```
- Установить зависимости командой ```pip install -r requirements.txt```
- Создать вашу базу данных для работы с проектом ```CREATE DATABASE ваша_база_данных;```
- Применить миграции ```python3 manage.py migrate```
- Создать суперпользователя можно командой ```python3 manage.py csu```
- Открыть командную строку и запустить ```python3 manage.py runserver```

### Используемые технологии:
- DjangoRestFramework
- Simple_jwt для токенов
- Документация по эндпоинтам ```/api/swagger/```, работает авторизация по Bearer токену
- Django_filters

### Эндпоинты:
- Регистрация пользователя
- Получение и обновление токена
- CRUD на модель Product
- CRUD на модель Seller

### Права доступа:
- Анонимный пользователь может только зарегистрироваться
- Пользователь может:
    - Получать список компаний
    - Получать одну компанию
    - Создавать компанию
    - Редактировать и удалять компанию(ограничение на изменения поля задолженность)
    - Получать список продуктов
    - Получать один продукт
    - Создавать продукт
    - Редактировать или удалять продукт
- Админка:
    - Дополнительно к функционалу пользователя, добавляется возможность редактирования или обнуления поля задолженности
      в компании
    - Возможность управления пользователями.

### Покрытие эндпоинтов автотестами(APITestCase): 97%

## Техническое задание:
- Создайте веб-приложение, с API интерфейсом и админ-панелью.
- Создайте базу данных используя миграции Django.

### Требования к реализации:
Необходимо реализовать модель сети по продаже электроники.

Сеть должна представлять собой иерархическую структуру из 3 уровней:
- Завод;
- Розничная сеть;
- Индивидуальный предприниматель.

Каждое звено сети ссылается только на одного поставщика оборудования (не обязательно предыдущего по иерархии). Важно отметить, что уровень иерархии определяется не названием звена, а отношением к остальным элементам сети, т.е. завод всегда находится на 0 уровне, а если розничная сеть относится напрямую к заводу, минуя остальные звенья - её уровень - 1.
Каждое звено сети должно обладать следующими элементами:
- Название;
- Контакты:
  - Email;
  - Страна;
  - Город;
  - Улица;
  - Номер дома;
- Продукты:
  - Название;
  - Модель;
  - Дата выхода продукта на рынок;
- Поставщик (предыдущий по иерархии объект сети);
- Задолженность перед поставщиком в денежном выражении с точностью до копеек;
- Время создания (заполняется автоматически при создании).
Сделать вывод в админ-панели созданных объектов
На странице объекта сети добавить:
- ссылку на «Поставщика»;
- фильтр по названию города;
- «admin action», очищающий задолженность перед поставщиком у выбранных объектов.
Используя DRF, создать набор представлений:
- CRUD для модели поставщика (запретить обновление через API поля «Задолженность перед поставщиком»);
- Добавить возможность фильтрации объектов по определенной стране.
- Настроить права доступа к API так, чтобы только активные сотрудники имели доступ к API.
